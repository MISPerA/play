<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cartas</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Overlay inicial para iniciar a experiência -->
    <div id="overlay" class="overlay" onclick="startExperience()">
        <h1>Clique para começar a Ouvir!</h1>
    </div>

    <!-- Reprodutor de vídeo -->
    <video id="backgroundVideo" loop style="display: none;">
        <source src="https://www.youtube.com/embed/gglkHLTS9Ao" type="video/mp4">
        Seu navegador não suporta a tag de vídeo.
    </video>

    <!-- Container principal -->
    <div class="container">
        <!-- Carta com animação de escrita à mão -->
        <div class="card handwriting handwriting-animation" id="randomMessage">
            <!-- A mensagem será exibida aqui -->
        </div>

        <!-- Seção do Instagram para compartilhamento -->
        <div class="instagram-section">
            <span class="instagram-text">Gostou? Compartilhe marcando o</span>
            <a class="instagram-link" href="https://www.instagram.com/mis.pera" target="_blank">
                <i class="fab fa-instagram instagram-logo"></i>@mis.pera
            </a>
        </div>

        <!-- Container do logotipo -->
        <div class="logo-container">
            <img src="logo.png" alt="Logo" class="logo">
        </div>
    </div>

    <!-- Importação de bibliotecas externas -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
    <script src="script.js"></script>

    <!-- Script para lidar com interações do usuário -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            var video = document.getElementById('backgroundVideo');
            var hasUserInteracted = false;

            document.addEventListener('click', function () {
                if (!hasUserInteracted) {
                    // Inicia o vídeo ao clicar
                    video.play();
                    // Inicia a contagem regressiva de 1 minuto e 30 segundos antes do redirecionamento
                    setTimeout(redirectAfterVideo, 90000);
                    hasUserInteracted = true;
                }
            });

            setTimeout(function () {
                if (!hasUserInteracted) {
                    // Inicia o vídeo automaticamente após 5 segundos, se o usuário ainda não interagiu
                    video.play();
                    // Inicia a contagem regressiva de 1 minuto e 30 segundos antes do redirecionamento
                    setTimeout(redirectAfterVideo, 90000);
                    hasUserInteracted = true;
                }
            }, 5000);
        });

        function startExperience() {
            var overlay = document.getElementById('overlay');
            var video = document.getElementById('backgroundVideo');
            
            overlay.classList.add('fade-out');
            video.play();
            document.querySelector('.card').classList.add('open-animation');
        }

        function redirectAfterVideo() {
            // Adicione aqui a lógica para redirecionar para um link aleatório no bloco de notas
            // Utilize o mesmo método que você implementou anteriormente para obter links do bloco de notas
            // e redirecione para um link aleatório
        }
    </script>
</body>
</html>
